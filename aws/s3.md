# üì¶ Amazon S3 ‚Äî Simple Storage Service

> Servi√ßo de armazenamento de objetos altamente escal√°vel e dur√°vel

---

## üìå Resumo

O **Amazon S3** √© o servi√ßo de armazenamento de objetos da AWS. Ele √© simples de usar, altamente escal√°vel e serve para praticamente qualquer tipo de aplica√ß√£o. √â um dos servi√ßos mais utilizados da AWS por combinar durabilidade muito alta, boa disponibilidade e baixo custo.

---

## üéØ O que √©

O Amazon S3 √© um servi√ßo de armazenamento de objetos que oferece:

- ‚úÖ **Durabilidade**: 99.999999999% (11 noves)
- ‚úÖ **Disponibilidade**: entre 99.5% e 99.99% (dependendo da storage class)
- ‚úÖ **Escalabilidade**: ilimitada
- ‚úÖ **Simplicidade**: f√°cil de usar e integrar

**Durabilidade** √© a probabilidade de n√£o perder dados.  
**Disponibilidade** √© a probabilidade de conseguir acessar esses dados.

---

## ‚öôÔ∏è Como o S3 Funciona

### Armazenamento de Objetos

S3 trabalha com **objetos**, n√£o com um sistema de arquivos tradicional.

**N√£o existe hierarquia real de pastas** ‚Äî tudo vive em um espa√ßo plano identificado por uma **object key**. As "pastas" s√£o apenas uma conven√ß√£o visual criada pelo nome do objeto.

### Exemplo de Key

```
imagens/produtos/123.png
```

Mesmo parecendo uma √°rvore de diret√≥rios, o S3 continua sendo um storage de objetos; a estrutura √© apenas l√≥gica.

### Limites de Tamanho

- **M√≠nimo**: 0 bytes
- **M√°ximo**: 5 TB por objeto

Na pr√°tica, isso cobre praticamente todos os cen√°rios.

---

## üåç Armazenamento Regional

O S3 √© um servi√ßo **regional**.

Os dados s√£o replicados automaticamente entre m√∫ltiplas Availability Zones, o que garante:

- ‚úÖ **Durabilidade**: 99.999999999% (11 noves)
- ‚úÖ **Disponibilidade**: entre 99.5% e 99.99% (dependendo da storage class)

---

## ü™£ Buckets

Para armazenar dados, voc√™ cria um **bucket**, que funciona como um cont√™iner l√≥gico.

### Caracter√≠sticas dos Buckets

- ‚úÖ O nome deve ser **√∫nico globalmente** em toda a AWS
- ‚úÖ Cada bucket pertence a uma **regi√£o espec√≠fica**
- ‚úÖ Cada objeto dentro do bucket recebe uma **key √∫nica**

### Exemplo de Estrutura

```
meu-bucket/logs/2025/12/10/app.log
```

Mesmo parecendo uma √°rvore de diret√≥rios, o S3 continua sendo um storage de objetos; a estrutura √© apenas l√≥gica.

---

## üìä Classes de Armazenamento

O S3 oferece v√°rias classes de armazenamento para equilibrar custo, desempenho e padr√£o de acesso. A escolha depende de quanto voc√™ acessa os dados, qu√£o r√°pido precisa deles e quanto quer pagar.

### Classes Dispon√≠veis

1. **S3 Standard**
2. **S3 Intelligent-Tiering**
3. **S3 Standard-IA** (Infrequent Access)
4. **S3 One Zone-IA**
5. **S3 Glacier Instant Retrieval**
6. **S3 Glacier Flexible Retrieval**
7. **S3 Glacier Deep Archive**

---

### üì¶ S3 Standard

**Use para dados acessados com frequ√™ncia.**

#### Caracter√≠sticas

- ‚úÖ **Alta performance**: baixa lat√™ncia, alto throughput
- ‚úÖ **Durabilidade**: 99.999999999% (11 noves), replicado em m√∫ltiplas AZs
- ‚úÖ **Disponibilidade**: 99.99%
- ‚úÖ **Criptografia**: SSL em tr√¢nsito e op√ß√µes em repouso
- ‚úÖ **Lifecycle**: permite mover objetos automaticamente para classes mais baratas

#### Ideal para

- ‚úÖ Aplica√ß√µes ativas
- ‚úÖ Rotinas de leitura frequente
- ‚úÖ APIs
- ‚úÖ Assets de sites
- ‚úÖ Logs cr√≠ticos

---

### üß† S3 Intelligent-Tiering

**Melhor op√ß√£o quando voc√™ n√£o sabe qual ser√° o padr√£o de acesso.**

#### Tiers Internos Autom√°ticos

- ‚úÖ **Frequent Access** ‚Äî acesso frequente
- ‚úÖ **Infrequent Access** ‚Äî acesso infrequente
- ‚úÖ **Archive Instant Access** ‚Äî arquivo com acesso r√°pido
- ‚úÖ **Deep Archive Access** (opcional, ap√≥s 180 dias sem acesso)

#### Como Funciona

1. Objeto come√ßa no **Frequent**
2. Sem acesso por **30 dias** ‚Üí muda para **Infrequent**
3. Sem acesso por **90 dias** ‚Üí muda para **Archive Instant**
4. Sem acesso por **180 dias** ‚Üí pode ir para **Deep Archive Access** (caso habilitado)

#### Caracter√≠sticas

- ‚úÖ Durabilidade de 11 noves
- ‚úÖ Disponibilidade: 99.9%
- ‚úÖ Mesmo desempenho do S3 Standard
- ‚úÖ Reduz custo automaticamente

#### Ideal para

- ‚úÖ Dados imprevis√≠veis
- ‚úÖ Workloads long-lived
- ‚úÖ Reposit√≥rios amplos

---

### üìâ S3 Standard-Infrequent Access (Standard-IA)

**Para dados acessados pouco, mas que ainda exigem performance parecida com Standard.**

#### Caracter√≠sticas

- ‚úÖ **Durabilidade**: 11 noves
- ‚úÖ **Disponibilidade**: 99.9%
- ‚úÖ Menor custo que Standard
- ‚úÖ **Taxa de recupera√ß√£o** por GB

#### Ideal para

- ‚úÖ Backups r√°pidos
- ‚úÖ Dados que viram leitura ocasional

---

### üóÇÔ∏è S3 One Zone-IA

**Parecido com Standard-IA, mas armazenado em uma √∫nica AZ.**

#### Caracter√≠sticas

- ‚úÖ Durabilidade interna na zona: 11 noves
- ‚úÖ **Disponibilidade mais baixa**: 99.5%
- ‚úÖ **20% mais barato** que Standard
- ‚ö†Ô∏è **Risco de perda total** caso a AZ seja destru√≠da

#### Ideal para

- ‚úÖ Dados reprodut√≠veis
- ‚úÖ Backups secund√°rios
- ‚úÖ Conte√∫do tempor√°rio

---

### üßä S3 Glacier ‚Äî Classes de Arquivo

As classes Glacier s√£o extremamente baratas e voltadas para arquivo de longo prazo, com tempos de recupera√ß√£o vari√°veis.

---

### ‚ö° S3 Glacier Instant Retrieval

**Arquivo barato mas com acesso imediato (milissegundos).**

#### Caracter√≠sticas

- ‚úÖ Durabilidade: 11 noves
- ‚úÖ Disponibilidade: 99.9%
- ‚úÖ Mesma performance de leitura do S3 Standard
- ‚úÖ Ideal para arquivos raramente acessados mas com necessidade de resposta r√°pida

#### Use para

- ‚úÖ Imagens m√©dicas
- ‚úÖ Backups que precisam ser acessados r√°pido
- ‚úÖ Documentos audit√°veis

---

### üßä S3 Glacier Flexible Retrieval

**Arquivo de baixo custo com op√ß√µes de recupera√ß√£o.**

#### Modos de Recupera√ß√£o

- ‚úÖ **Expedited**: 1‚Äì5 min (at√© 250 MB)
- ‚úÖ **Standard**: 3‚Äì5 horas
- ‚úÖ **Bulk**: 5‚Äì12 horas (petabytes)

#### Ideal para

- ‚úÖ Dados acessados 1√ó por ano
- ‚úÖ Arquivos de compliance
- ‚úÖ Backups frios

---

### üèõÔ∏è S3 Glacier Deep Archive

**A classe mais barata de todo S3.**

#### Caracter√≠sticas

- ‚úÖ Durabilidade: 11 noves
- ‚úÖ Disponibilidade: 99.99%
- ‚úÖ Uso para reten√ß√£o legal de 7+ anos

#### Recupera√ß√µes

- ‚úÖ **Standard**: ~12 horas
- ‚úÖ **Bulk**: at√© 48 horas

#### Ideal para

- ‚úÖ Setor financeiro
- ‚úÖ Setor de sa√∫de
- ‚úÖ Registros antigos

---

### ‚ùì Perguntas para Escolher a Storage Class

Sempre avalie:

1. ‚úÖ **Com que frequ√™ncia preciso acessar esse dado?**
2. ‚úÖ **Qu√£o cr√≠tico ele √©?**
3. ‚úÖ **Posso recri√°-lo?**
4. ‚úÖ **Preciso de acesso instant√¢neo?**
5. ‚úÖ **Qual o custo aceit√°vel?**

---

## üîí Seguran√ßa

### Criptografia

- ‚úÖ **Em tr√¢nsito**: TLS/SSL
- ‚úÖ **Em repouso**: SSE-S3, SSE-KMS, SSE-C, ou client-side

### Controle de Acesso

- ‚úÖ **IAM Policies**: controle de acesso baseado em identidade
- ‚úÖ **Bucket Policies**: pol√≠ticas no n√≠vel do bucket
- ‚úÖ **ACLs**: controle de acesso legado
- ‚úÖ **Block Public Access**: bloqueio de acesso p√∫blico

---

## üîÑ Versionamento

O S3 permite manter m√∫ltiplas vers√µes do mesmo objeto:

- ‚úÖ Hist√≥rico completo de altera√ß√µes
- ‚úÖ Recupera√ß√£o de vers√µes anteriores
- ‚úÖ Prote√ß√£o contra exclus√£o acidental

---

## üìã Lifecycle Policies

Pol√≠ticas autom√°ticas para gerenciar objetos:

- ‚úÖ **Transi√ß√£o**: mover objetos entre classes de armazenamento
- ‚úÖ **Expira√ß√£o**: excluir objetos automaticamente ap√≥s per√≠odo definido
- ‚úÖ **Otimiza√ß√£o de custos**: reduzir custos automaticamente

---

## üéÅ Benef√≠cios Principais

### 1. Durabilidade e Disponibilidade

- ‚úÖ 99.999999999% de durabilidade (11 noves)
- ‚úÖ Alta disponibilidade (99.5% a 99.99%)

### 2. Escalabilidade

- ‚úÖ Armazenamento ilimitado
- ‚úÖ Escala automaticamente

### 3. Simplicidade

- ‚úÖ API simples e bem documentada
- ‚úÖ Integra√ß√£o f√°cil com outros servi√ßos AWS

### 4. Custo-Benef√≠cio

- ‚úÖ Pay-as-you-go
- ‚úÖ M√∫ltiplas classes de armazenamento
- ‚úÖ Lifecycle policies para otimiza√ß√£o

### 5. Integra√ß√£o

- ‚úÖ Integra com praticamente todos os servi√ßos AWS
- ‚úÖ Suporta eventos e notifica√ß√µes

---

## üí° Casos de Uso Comuns

### ‚úÖ Armazenamento de Dados

- ‚úÖ Backup e disaster recovery
- ‚úÖ Arquivo de dados
- ‚úÖ Armazenamento de logs

### ‚úÖ Hosting Est√°tico

- ‚úÖ Websites est√°ticos
- ‚úÖ Aplica√ß√µes SPA (Single Page Applications)
- ‚úÖ Assets est√°ticos (imagens, v√≠deos, documentos)

### ‚úÖ Data Lakes

- ‚úÖ Armazenamento de grandes volumes de dados
- ‚úÖ An√°lise de dados com Athena, Glue, Redshift

### ‚úÖ Integra√ß√£o com Aplica√ß√µes

- ‚úÖ Upload de arquivos de usu√°rios
- ‚úÖ Armazenamento de conte√∫do gerado por usu√°rios
- ‚úÖ CDN com CloudFront

---

## üîó Integra√ß√£o com Outros Servi√ßos

O S3 integra com diversos servi√ßos AWS:

- ‚úÖ **CloudFront**: CDN para distribui√ß√£o de conte√∫do
- ‚úÖ **Lambda**: processamento de eventos S3
- ‚úÖ **Athena**: consulta SQL em dados S3
- ‚úÖ **Glue**: ETL e cataloga√ß√£o de dados
- ‚úÖ **EventBridge**: eventos e notifica√ß√µes
- ‚úÖ **Transfer Family**: transfer√™ncia de arquivos via FTP/SFTP

---

## üìä Exemplo de Arquitetura

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Aplica√ß√£o / Usu√°rio                     ‚îÇ
‚îÇ         ‚îÇ                                ‚îÇ
‚îÇ         ‚îÇ Upload/Download                ‚îÇ
‚îÇ         ‚ñº                                ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ   Amazon S3                       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   ‚Ä¢ Bucket √∫nico globalmente      ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   ‚Ä¢ Objetos com keys √∫nicas      ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   ‚Ä¢ Replica√ß√£o multi-AZ          ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                 ‚îÇ                       ‚îÇ
‚îÇ                 ‚ñº                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ   Storage Classes                 ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   ‚Ä¢ Standard                      ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   ‚Ä¢ Intelligent-Tiering           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   ‚Ä¢ Glacier                       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üí∞ Custos

O S3 cobra por:

- ‚úÖ **Armazenamento**: por GB armazenado (varia por classe)
- ‚úÖ **Requests**: PUT, GET, LIST, etc.
- ‚úÖ **Transfer√™ncia de dados**: sa√≠da de dados (entrada √© gratuita)
- ‚úÖ **Lifecycle transitions**: movimenta√ß√£o entre classes

> üí° **Dica**: Use o [AWS Pricing Calculator](https://calculator.aws/) para estimar custos

---

## üìù Comandos √öteis

### AWS CLI

```bash
# Criar um bucket
aws s3 mb s3://meu-bucket-unico

# Listar buckets
aws s3 ls

# Copiar arquivo para S3
aws s3 cp arquivo.txt s3://meu-bucket-unico/

# Copiar diret√≥rio para S3
aws s3 sync ./diretorio s3://meu-bucket-unico/diretorio/

# Baixar arquivo do S3
aws s3 cp s3://meu-bucket-unico/arquivo.txt ./

# Listar objetos em um bucket
aws s3 ls s3://meu-bucket-unico/

# Excluir objeto
aws s3 rm s3://meu-bucket-unico/arquivo.txt

# Excluir bucket (deve estar vazio)
aws s3 rb s3://meu-bucket-unico
```

---

## üîó Recursos Adicionais

- [Documenta√ß√£o Oficial Amazon S3](https://docs.aws.amazon.com/s3/)
- [Amazon S3 - P√°gina do Produto](https://aws.amazon.com/s3/)
- [S3 Storage Classes](https://aws.amazon.com/s3/storage-classes/)
- [S3 Best Practices](https://docs.aws.amazon.com/AmazonS3/latest/userguide/best-practices.html)

---

## ‚úÖ Checklist de Aprendizado

- [ ] Entender o conceito de armazenamento de objetos vs sistema de arquivos
- [ ] Compreender o que s√£o buckets e object keys
- [ ] Entender limites de tamanho (0 bytes a 5 TB)
- [ ] Conhecer todas as 7 classes de armazenamento dispon√≠veis
- [ ] Entender durabilidade vs disponibilidade
- [ ] Compreender que buckets s√£o regionais
- [ ] Entender que nomes de buckets devem ser √∫nicos globalmente
- [ ] Conhecer recursos de seguran√ßa (criptografia, IAM, bucket policies)
- [ ] Entender versionamento e lifecycle policies
- [ ] Saber quando usar S3 Standard (dados acessados frequentemente)
- [ ] Entender S3 Intelligent-Tiering e seus tiers autom√°ticos
- [ ] Compreender diferen√ßa entre Standard-IA e One Zone-IA
- [ ] Conhecer as 3 classes Glacier e seus tempos de recupera√ß√£o
- [ ] Saber escolher a classe correta baseado em frequ√™ncia de acesso, criticidade e custo
- [ ] Compreender integra√ß√£o com outros servi√ßos AWS

---

## üè∑Ô∏è Tags

`#aws` `#storage` `#s3` `#object-storage` `#backup` `#data-lake` `#cloud-storage`

---

**√öltima atualiza√ß√£o**: üìÖ [DD/MM/YYYY]

